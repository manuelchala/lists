<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Select Line</title>
</head>
<body>
  <h2>Select a Line</h2>
  <label for="line">Choose line:</label>
  <select id="line">
    <option value="">-- Select --</option>
    <option value="179">Line 179</option>
    <option value="567">Line 567</option>
  </select>

  <p id="status"></p>

  <script>
    const dropdown = document.getElementById("line");
    const status = document.getElementById("status");

    dropdown.addEventListener("change", async () => {
      const choice = dropdown.value;
      if (!choice) return;

      status.textContent = "Sending request...";

      // Create an Issue instead of pushing directly
      const res = await fetch(
        "https://api.github.com/repos/YOUR_USERNAME/YOUR_REPO/issues",
        {
          method: "POST",
          headers: {
            "Accept": "application/vnd.github+json",
            // ⚠️ No token here – visitors won’t see your PAT
          },
          body: JSON.stringify({
            title: `Line selection: ${choice}`,
            body: `The selected line is ${choice}`
          })
        }
      );

      if (res.ok) {
        status.textContent = `✅ Selection sent: ${choice}`;
      } else {
        status.textContent = `❌ Error: ${res.status}`;
      }
    });
  </script>
</body>
</html>



